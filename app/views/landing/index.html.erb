<header>
  <nav>
    <div class="nav-wrapper">
      <a href="#!" class="brand-logo center">OpenSource Watch</a>
    </div>
  </nav>

  <div class="container">
    <div class="row">
      <div class="col s12 m10 l8 offset-l2 offset-m1">
          <p id="description">
            OpenSource Watch is up to date with everything that is going on in the 100,000 most popular open source libraries on Github. Easily check the top activity among libraries, issues, and developers up to the last 90 days. We are growing fast so keep watching!
          </p>
      </div>
    </div>
  </div>

  <!-- <div class="row pushpin-select-row" >
    <div class="input-field col s12 m8 l6 offset-l3 offset-m2"
    id="date-range-select">
      <select>
        <option value="daily">  Daily</option>
        <option value="weekly"> Weekly</option>
        <option value="monthly">Monthly</option>
        <option value="last_90">Last 90 Days</option>
      </select>
      <label> Select Range </label>
    </div>
  </div> -->
  <div class="row pushpin-date-range-row">
    <div class="col s12 m8 l8 offset-m2 offset-l2">
      <ul class="tabs tabs-fixed-width">
        <li class="tab col s3 m2 l2"><a href="#">Daily</a></li>
        <li class="tab col s3 m2 l2"><a href="#">Weekly</a></li>
        <li class="tab col s3 m2 l2"><a href="#">Monthly</a></li>
        <li class="tab col s3 m2 l2"><a href="#">Last 90</a></li>
      </ul>
    </div>
  </div>
</header>

<main>
    <div class="row">
      <div class="col s12 m5 l5 hoverable">
        <table class="bordered highlight centered">
          <h4 class="center-align">Top Repositories</h3>
          <thead>
            <tr>
              <th>Rank</th>
              <th>Repository</th>
              <th>Commits</th>
            </tr>
          </thead>
          <tbody>
            <% @repos.each_with_index do |r, i| %>
            <tr>
              <td><%= i + 1 %></td>
              <td><%= r.name %></td>
              <td><%= r.hit_count %></td>
            </tr>
            <% end %>
          </tbody>
        </table>
      </div>

      <div class="col s12 m5 l5 hoverable">
        <table class="bordered highlight centered">
          <h4 class="center-align">Top Committers</h3>
          <thead>
            <tr>
              <th>Rank</th>
              <th>Commiter</th>
              <th>Commits</th>
            </tr>
          </thead>
          <tbody>
            <% @committers.each_with_index do |c, i| %>
            <tr>
              <td><%= i + 1 %></td>
              <td><%= c.github_username %></td>
              <td><%= c.hit_count %></td>
            </tr>
            <% end %>
          </tbody>
        </table>
      </div>
    </div>

    <div class="row">
      <div class="col s12 m5 l5 hoverable">
        <table class="bordered highlight centered">
          <h4 class="center-align">Active Issues</h3>
          <thead>
            <tr>
              <th>Rank</th>
              <th>Title</th>
              <th>Comments</th>
              <th>Repository</th>
            </tr>
          </thead>
          <tbody>
            <% @issues.each_with_index do |issue, i| %>
            <tr>
              <td><%= i + 1 %></td>
              <td><%= issue.name %></td>
              <td><%= issue.hit_count %></td>
              <td><%= Repository.find(issue.repository_id).name %></td>
            </tr>
            <% end %>
          </tbody>
        </table>
      </div>

      <div class="col s12 m5 l5 hoverable">
        <table class="bordered highlight centered">
          <h4 class="center-align">Chattiest Users</h3>
          <thead>
            <tr>
              <th>Rank</th>
              <th>User</th>
              <th>Comments</th>
            </tr>
          </thead>
          <tbody>
            <% @chatty.each_with_index do |user, i| %>
            <tr>
              <td><%= i + 1 %></td>
              <td><%= user.github_username %></td>
              <td><%= user.hit_count %></td>
            </tr>
            <% end %>
          </tbody>
        </table>
      </div>
    </div>
</main>

<footer>
  <div class="container">
    <div class="row">
      &copy; 2017 OpenSource Watch
      <a class="grey-text text-lighten-4 right" href="#!">Email Us</a>
    </div>
  </div>
</footer>
